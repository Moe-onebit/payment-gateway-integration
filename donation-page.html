<!DOCTYPE html>
<html>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="donation-page.js"></script>
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <link rel="stylesheet" href="donation-page.css">

      
        <script>
          function doForm(theForm) {
            const amount = document.getElementById('donationAmount').value;
            const fname = document.getElementById('fname').value;
            const lname = document.getElementById('lname').value;
            const email = document.getElementById('email').value;
            
            const mail = Email.send({
            SecureToken : "f30c499e-a173-483c-b870-8de0a6ef556b",
            To : email,
            From : "medobarch8@gmail.com",
            Subject : "Donation received",
            Body : "Donation received ! <br> Thank you " + fname +" "+ lname + " for your generous donation, this will help a lot of families and children. <br> You donated. " + amount + "$" + " <br> <b>Mo Foundation</b>"
            }).then(
            message => alert(message)
            );

            if(!mail){
              alert('Connection error. <br>Please try again.')
            }
          }
          
        </script>
        
    </head>

    <body>
        <div class ="container">
            <form class="column form"  action="#" onsubmit="return doForm(this)" method="get">
                <h2 class="donation header">SECURE DONATION FORM</h2>
                <div class="column">
                    <label>Donation amount*</label>
                    <input type="number" class="amount" required id="donationAmount">
                </div>
                
                <div class="row">
                    <label>First name*</label>
                    <input type="text" class="fname" required id="fname"><br>
                    <label>Last name*</label>
                    <input type="text" class="lname" required id="lname"><br>
                </div>
                
                <div class="row">
                    <label>Email</label>
                    <input type="email" class="email" required id="email"><br>  
                </div>
                
                <div class="column">
                    <label>Donation message</label>
                    <textarea rows="8" cols="50">
                    </textarea>
                </div>

                <label>Payment method:</label>

                <div class="row payment">
                        <div class="column">

                            <div class="row">
                                <input type="radio" value="Credit Card" name="payment" onclick="card()">
                                <label>Credit Card</label>
                            </div>

                            <div class="row">
                                <img class="resize" alt="Visa" src="images/Visa_logoo.png">
                                <img class="resize" alt="Master Card" src="images/MasterCard_logoo.png">
                            </div>

                        </div>

                    <div class="column">
                        <div class="row">
                            <input type="radio" value="Paypal" name="payment" onclick="payPal()">
                            <label>Paypal</label>
                        </div>

                            <div class="row">
                                <img class="resize" alt="paypal" src="images/paypal-logoo.png">
                            </div>
                    </div>
                </div>
                


                <div class="row card" id="card">
                    <div class="col-50">
                      <h3>Billing Address</h3>
                      <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                      <input type="text" id="adr" name="address" placeholder="542 W. 15th Street">
                      <label for="city"><i class="fa fa-institution"></i> City</label>
                      <input type="text" id="city" name="city" placeholder="New York">
          
                      <div class="row">
                        <div class="col-50">
                          <label for="state">State</label>
                          <input type="text" id="state" name="state" placeholder="NY">
                        </div>
                        <div class="col-50">
                          <label for="zip">Zip</label>
                          <input type="text" id="zip" name="zip" placeholder="10001" maxlength="5">
                        </div>
                      </div>
                    </div>
          
                    <div class="col-50">
                      <h3>Payment</h3>
                      <label for="ccnum">Credit card number</label>
                      <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444" maxlength="16" >
                      <label for="expmonth">Exp Month</label>
                      <input type="text" id="expmonth" name="expmonth" placeholder="September" >
          
                      <div class="row">
                        <div class="col-50">
                          <label for="expyear">Exp Year</label>
                          <input type="text" id="expyear" name="expyear" placeholder="2018" maxlength="4" >
                        </div>
                        <div class="col-50">
                          <label for="cvv">CVV</label>
                          <input type="text" id="cvv" name="cvv" placeholder="352" maxlength="3" >
                        </div>
                      </div>
                      <input type="submit" value="Donate" class="btn creditcardbtn">

                    </div>
                  </div>
                  
                  
                  
                   <div class="column paypal" id="paypal">
                      <h2>Pay with PayPal</h2>
                      <input type="email" placeholder="Email" >
                      <input type="password" placeholder="Password" >
                      <input type="submit" class="btn paypalbtn" value="Donate" >
                    </div>
                    </div>            
                </div>
            

            </form>
        </div>
    </body>

</html>